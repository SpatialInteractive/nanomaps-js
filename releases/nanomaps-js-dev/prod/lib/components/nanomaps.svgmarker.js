var svgns="http://www.w3.org/2000/svg";function createSvgElement(b){try{return document.createElementNS(svgns,b)}catch(c){var a=document.createElement("svgdummy");if(!a.style){a.style={}}}}function SvgMarker(b){b=this.settings=b||{};var a=createSvgElement("svg");a.setAttribute("class",b.className||"");a.mapeer=this;this.canvas=a}SvgMarker.prototype={unmanaged:false,defaultLayer:"shadow",getElement:function(a){this.owner=a;return this.canvas},mareset:function(b,a){},invalidate:function(){var a=this.owner,b=this.canvas;if(a&&b.parentNode){this.mareset(a,b)}}};inherits(SvgMarker,EventEmitter);function EllipseMarker(a){SvgMarker.call(this,a);var b=createSvgElement("ellipse");this.canvas.appendChild(b);this.ellipse=b}EllipseMarker.prototype={mareset:function(b,f){var e=this.ellipse,h=this.settings,d,c,o=h.unit||"px",a=h.longitude,m=h.latitude,g,k,j,i,p,n,l;if("radius" in h){d=c=translateX(b,h.radius||0,o)}else{d=translateX(b,h.rx||0,o);c=translateY(b,h.ry||0,o)}g=oddCeil(d*2+20);k=oddCeil(c*2+20);j=Math.round(g/2);i=Math.round(k/2);e.setAttribute("cx",j);e.setAttribute("cy",i);e.setAttribute("rx",d);e.setAttribute("ry",c);p=b.globalToXY(h);if(p){n=p.x()-j;l=p.y()-i;f.style.left=n+"px";f.style.top=l+"px";f.style.width=g+"px";f.style.height=k+"px";f.style.display="block"}else{f.style.display="none"}}};inherits(EllipseMarker,SvgMarker);function oddCeil(a){a=Math.ceil(a);if((a%2)!==1){a++}return a}function translateX(c,d,b){var a=c.mapState.res;switch(b){case"px":return d;case"m":return d/a;default:return 0}}function translateY(c,d,b){var a=c.mapState.res;switch(b){case"px":return d;case"m":return d/a;default:return 0}}exports.SvgMarker=SvgMarker;exports.EllipseMarker=EllipseMarker;